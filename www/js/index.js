function emptyFunctionS(){console.log("jestem")}function hideBars(){$(window).width()>600?StatusBar.hide():AndroidFullScreen.immersiveMode(emptyFunctionS,emptyFunctionS)}function path(){var e=cordova.file.externalDataDirectory.split("/").slice(-5);return mainPath=e.toString().replace(/,/g,"/"),e.toString().replace(/,/g,"/")}function readDayF(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,onFSSuccess3,onFSError)}function onFSSuccess3(e){e.root.getFile(srcFile3,{create:!1,exclusive:!1},gotFileEntry3,onFSError)}function gotFileEntry3(e){e.file(gotFile3,onFSError)}function gotFile3(e){readAsText3(e)}function readAsText3(e){var t=new FileReader;t.onloadend=function(e){res3=e.target.result},t.readAsText(e)}function readLang(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,onFSSuccessLangR,onFSErrorLangR)}function onFSSuccessLangR(e){e.root.getFile(srcLang,{create:!1,exclusive:!1},gotFileEntryLangR,onFSErrorLangR),rootURL=e.root.toURL()}function gotFileEntryLangR(e){e.file(gotFileLangR,onFSErrorLangR)}function gotFileLangR(e){readAsTextLangR(e)}function readAsTextLangR(e){var t=new FileReader;t.onloadend=function(e){resLang=e.target.result},t.readAsText(e)}function onFSErrorLangR(e){path();resLang='{"lang":-1}'}function readWriteFile(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,onFSSuccess,onFSError)}function onFSSuccess(e){e.root.getFile(srcFile,{create:!1,exclusive:!1},gotFileEntry,onFSError)}function gotFileEntry(e){e.file(gotFile,onFSError)}function gotFile(e){readAsText(e)}function readAsText(e){var t=new FileReader;t.onloadend=function(e){afterReadToLearn(e.target.result)},t.readAsText(e)}function onFSError(e){path();res="[]"}function readWriteFile2(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,onFSSuccess2,onFSError)}function onFSSuccess2(e){e.root.getFile(srcFile2,{create:!1,exclusive:!1},gotFileEntry2,onFSError)}function gotFileEntry2(e){e.file(gotFile2,onFSError)}function gotFile2(e){readAsText2(e)}function readAsText2(e){var t=new FileReader;t.onloadend=function(e){res2=e.target.result},t.readAsText(e)}function saveFile(){srcSaveTmp=path()+"save_tmp.json",srcSaveOld=path()+"save_old.json",saveFileOld()}function renameSuccessSave(){saveFileOld()}function saveFileOld(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSN2,failN)}function gotFSN2(e){e.root.getFile(srcSaveTmp,{create:!0},gotFileEntryN2,failN)}function gotFileEntryN2(e){e.createWriter(gotFileWriterN2,failN)}function gotFileWriterN2(e){e.onwriteend=function(e){renameFile(srcSaveTmp,"",srcSave,renameSuccessSaveEnd)},e.write(JSON.stringify(datesJSON)),e.abort()}function renameSuccessSaveEnd(){saveFile5()}function failN(e){}function saveMyLang(e){langJSON.lang=e,getCatWithPos(0,1),saveLang()}function saveLang(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSNLang,failN)}function gotFSNLang(e){e.root.getFile(srcLang,{create:!1},gotFileEntryLang,failN)}function gotFileEntryLang(e){e.createWriter(gotFileWriterLang,failN)}function gotFileWriterLang(e){e.onwrite=function(e){console.log("write success")},e.write(JSON.stringify(langJSON)),e.abort()}function saveFile5(){srcSave5=path()+"day.json",srcSaveDayTmp=path()+"day_tmp.json",saveFileDay()}function saveFileDay(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSN5,failN)}function gotFSN5(e){e.root.getFile(srcSaveDayTmp,{create:!0},gotFileEntryN5,failN)}function gotFileEntryN5(e){e.createWriter(gotFileWriterN5,failN)}function gotFileWriterN5(e){e.onwriteend=function(e){renameFile(srcSaveDayTmp,"",srcSave5,renameSuccessSaveDayEnd)},e.write(JSON.stringify(datesJSON5)),e.abort()}function renameSuccessSaveDayEnd(){endTodayLesson&&endLearn()}function startApp(){hideBars(),$("#first-use-loading-page").show(),getMyLang(),setTimeout(function(){var e=langJSON.lang;prepareAd(),e<1?($("#first-use-loading-page").hide(),startLearn=!0,getLangList(),$("#choose-lang").show(),copyFirstPath()):($("#myLang").val(e),$("body").addClass("lang"+e),getDay(),getNotice(),readLikedWords(),setTimeout(function(){suggestedCatName||getCatWithPos(0,1)},500),setTimeout(function(){gameIsBegin=!0,$("#first-use-loading-page").hide(),showStartLessonPage()},2e3))},2500)}function getMyLang(){srcLang=path()+"lang.json",readLang(),setTimeout(function(){getMyLangHelper()},100)}function getMyLangHelper(){return 0==resLang?void setTimeout(function(){getMyLangHelper()},100):(langJSON=JSON.parse(resLang),void(resLang=!1))}function getDay(){srcFile3=path()+"day.json",readDayF(),getDayHelper()}function getDayHelper(){if(0!=res3){getAllCatsInArray(),getAllCatsToShowAllCats(),dayJSON=JSON.parse(res3),dayJSONwordsCopy=dayJSON.words,res3=!1,$("#nrDayFiled").text(dayJSON.day),$(".allWords").text(dayJSON.words),$("#end-nr-lesson").text(dayJSON.day),$("#countWordsToLearn").text(dayJSON.day-1),$(".equivalentLessons").text(dayJSON.day-1),$(".all-words-to-end").text(countWordsToLearn),$(".all-words-to-end-sesion").text(countWordsToLearnInThisCycle),$(".countKMLearned").text(Math.floor(dayJSON.km*minCat/60)),$(".countMinLearned").text(dayJSON.km*minCat%60);for(var e in dayJSON.skiped){var t=dayJSON.skiped[e];allUsedCats.push(t),allEndedCats.push(t)}$("body").addClass("theme"+dayJSON.theme),getToLearn()}else setTimeout(getDayHelper,100)}function getNotice(){srcFile2=path()+"notice.json",readWriteFile2(),getNoticeHelper()}function getNoticeHelper(){0!=res2?(noticeJSON=JSON.parse(res2),res2=!1):setTimeout(getNoticeHelper,100)}function getToLearn(){srcFile=path()+"save.json",readWriteFile()}function afterReadToLearn(e){toLearnJSON=JSON.parse(e),toLearnJSONcopyForBackBTN=JSON.parse(JSON.stringify(toLearnJSON));for(var t in toLearnJSON){var a=toLearnJSON[t],n=dayJSON.day-a.start;switch(allUsedCats.push(a.catid+"/"+a.subid),n>=27&&(learnedCat.push(a.catid+"/"+a.subid),allEndedCats.push(a.catid+"/"+a.subid)),n<27&&(inProgressCat.push(a.catid+"/"+a.subid),inProgressCatcopyForBackBTN=inProgressCat.slice()),n){case 1:break;case 4:toLearn[2]=a.catid+"/"+a.subid,toLearn[3]=a.catid+"/"+a.subid,countCatsToLearn++,countOfCycle++,countOfCycle++,countWordsToLearn+=2*wordsInOneCat,countWordsToLearn+=wordsInOneCat,inProgressCat.push(a.catid+"/"+a.subid);break;case 10:toLearn[4]=a.catid+"/"+a.subid,toLearn[5]=a.catid+"/"+a.subid,countCatsToLearn++,countOfCycle++,countOfCycle++,countWordsToLearn+=2*wordsInOneCat,countWordsToLearn+=wordsInOneCat,inProgressCat.push(a.catid+"/"+a.subid);break;case 27:toLearn[6]=a.catid+"/"+a.subid,toLearn[7]=a.catid+"/"+a.subid,todayEndedCat=a.catid+"/"+a.subid,countCatsToLearn++,countOfCycle++,countOfCycle++,countWordsToLearn+=2*wordsInOneCat,countWordsToLearn+=wordsInOneCat,inProgressCat.push(a.catid+"/"+a.subid)}t==toLearnJSON.length-1&&(setTimeout(showInProgressCat,200),setTimeout(function(){uniqueallUsedCats=allUsedCats.filter(function(e,t){return allUsedCats.indexOf(e)==t}),allCats.sort().toString()==uniqueallUsedCats.sort().toString()?(countWordsToLearn-=wordsInOneCat+2*wordsInOneCat,countOfCycle-=2,$("#countWordsToLearn").text(dayJSON.day-1),$(".equivalentLessons").text(dayJSON.day-1),$(".all-words-to-end").text(countWordsToLearn),$(".all-words-to-end-sesion").text(countWordsToLearnInThisCycle),countCatsToLearnToday=countCatsToLearn-1,$(".allTimeToday").text(countCatsToLearnToday*minCat)):($("#countWordsToLearn").text(dayJSON.day-1),$(".equivalentLessons").text(dayJSON.day-1),$(".all-words-to-end").text(countWordsToLearn),$(".all-words-to-end-sesion").text(countWordsToLearnInThisCycle),countCatsToLearnToday+=countCatsToLearn,$(".allTimeToday").text(countCatsToLearnToday*minCat))},250),setTimeout(function(){gameIsBegin=!0,$("#first-use-loading-page").hide(),showStartLessonPage()},500))}}function getToLearnHelper(){}function setCountWord(){for(var e=0;e<8;e++)toLearn[e]>0&&(countWord+=wordsInOneCat)}function saveDay(){dayJSON.day=dayJSON.day+1,dayJSON.km=dayJSON.km+countOfCycle/2,datesJSON5=dayJSON,$("#learn-container").addClass("next-cat-right"),setTimeout(function(){$("#learn-container").hide(),$("#saving-progress-today").show(),setTimeout(function(){$("#saving-progress-today").removeClass("next-cat-left"),setTimeout(function(){datesJSON=toLearnJSON,srcSave=path()+"save.json",saveFile()},1500)},100)},500)}function aaa(){$("#learn-container").addClass("next-cat-right"),setTimeout(function(){$("#learn-container").hide(),$("#saving-progress-today").show(),setTimeout(function(){$("#saving-progress-today").removeClass("next-cat-left")},100)},500)}function getLangList(){getDay(),$.get("date/lang.json",function(e){showLangList(e)})}function showLangList(e){var t=JSON.parse(e);for(var a in t){var n=t[a],o='<h1 class="text" ontouchstart="setLang(this);" data-mylang="'+n.id+'" >'+n.label+"</h1>";a>0&&$("#langs").append(o)}}function getCatList(){var e=$("#myLang").val();$.get("date/"+e+"/cat.json",function(e){setTimeout(function(){setTimeout(function(){showCatList(e)},200)},200)})}function showCatList(e){var t=JSON.parse(e);$("#cats").html("");var a="";for(var n in t){subcats=!1;var o=t[n];a+='<div><h1 class="text supercat" onclick="expand(this);">'+o.name+"</h1>";parseInt(n),parseInt(t.length);a+=getSubCatList(o.id)+"</div>"}$("#cats").append(a)}function getSubCatName(e){var t=e.split("/"),a=t[0],n=t[1],o=$("#myLang").val();$.get("date/"+o+"/"+a+"/subcat.json",function(e){var t=JSON.parse(e);for(var a in t){var o=t[a];o.id==n&&(nameCat=o.name)}})}function getWordToSuggestCat(e){var t=e.split("/"),a=t[0],n=t[1],o=$("#myLang").val();$.get("date/"+o+"/"+a+"/"+n+"/words.json",function(t){$("#list-word-in-sug-cat").text(""),$.get("date/1/"+a+"/"+n+"/words.json",function(a){var n=JSON.parse(t),o=JSON.parse(a),r=0;for(var s in n){r++;var i=n[s],d=o[s];$("#list-word-in-sug-cat").append('<p class="text" onclick="tellMeWord(\''+e+"',"+i.id+')">'+r+". "+d.name+"<span>"+i.name+"</span></p>")}})})}function getSubCatList(e){getNotice();var t=$("#myLang").val();parent=e;var a=null;return $.ajax({url:"date/"+t+"/"+e+"/subcat.json",type:"get",dataType:"html",async:!1,success:function(t){a=showSubCatList(t,e)}}),a}function showSubCatList(e,t){var a=JSON.parse(e),n='<div class="list-of-subcat">';for(var o in a){var r=a[o],s="",i=t+"/"+r.id;dayJSON.skiped.indexOf(i)>=0&&(s="missingCat"),learnedCat.indexOf(i)>=0&&(s="learnedCat"),inProgressCat.indexOf(i)>=0&&(s="inProgressCat"),cl2=1==r.audio?"":"no-audio",n+='<p class="text setCat '+s+" "+cl2+'" onclick="getThisCatAsSug(this);" data-name="'+r.name+'" data-parent="'+t+'" data-subcat="'+r.id+'" data-pos="'+r.id+'">'+r.name+'<span class="inProgressCatInfo">during learning</span> <span class="missingCatInfo">lesson skipped</span> <span class="learnedCatInfo">learned lesson</span></p>',firstGenerationCat&&$("#cat-list .list").append('<li><p class="cat-name" data-id="'+r.id+'" data-par="'+t+'">'+r.name+"</p></li>")}return n+="</div>",subcats=n,n}function setNewCat(e,t){toLearn[8]=e+"/"+t,toLearn[9]=e+"/"+t,setTimeout(function(){srt=$("#nrDayFiled").text(),toLearnJSONcopyForBackBTN=JSON.parse(JSON.stringify(toLearnJSON)),toLearnJSON.push({subid:t,catid:e,start:srt}),inProgressCatcopyForBackBTN=inProgressCat.slice(),inProgressCat.push(e+"/"+t)},150)}function showtoLearn(){for(var e=0;e<10;e++);}function getWordList(){var e=$("#myLang").val(),t=$("#myParentCat").val(),a=$("#myCat").val(),n=$("#learnLang").val(),o=!1;$.get("date/"+e+"/"+t+"/"+a+"/words.json",function(e){o=e,$.get("date/"+n+"/"+t+"/"+a+"/words.json",function(e){showWordList(o,e)})})}function showWordList(e,t){if(words=JSON.parse(e),trans=JSON.parse(t),isFirstCycle=!1){$("#words").html("");var a="";for(var n in words){nameWord=!1;var o=words[n],r=trans[n];a+='<div class="word" data-id="'+o.id+'" data-check="1" onclick="checkWord(this);"><table><tr><td><p class="text">'+o.name+'</p></td><td rowspan="2"><img src="img/check.png"></td></tr><tr><td><p class="text">'+r.name+"</p></td></tr></table></div>"}$("#words").html(a),isFirstCycle=!1}else getNavWordList()}function getNavWordList(){$("#nav-words-container").text("");var e=0,t=-1;if(isFirstCycle)$(".word").each(function(a){if(0!=$(this).attr("data-check")){e++;var n=$(this).data("id");1==e&&(t=n,setActWord(n)),$("#nav-words-container").append('<p data-word-id="'+n+'"><img src="img/'+e+'.png" class="no-activ-img"><img src="img/'+e+'.png" class="activ-img"></p>')}}),isFirstCycle=!1,setTimeout(function(){setNavWordPosition(0),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse")},50);else{for(var a in words){var n=words[a].id;1==++e&&(t=n,setActWord(n)),$("#nav-words-container").append('<p data-word-id="'+n+'"><img src="img/'+e+'.png" class="no-activ-img"><img src="img/'+e+'.png" class="activ-img"></p>')}setTimeout(function(){setNavWordPosition(0),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse")},50)}}function setNavWordPosition(e,t){var a;3==(t=t||3)?0==e?a=3:(a=e+2,e--):1==t?a=e+1:2==t&&(a=e+1,e--),$("#nav-words-container p").hide().slice(e,a).show()}function setWordToLearn(e,t){$("#nav-words-container p").removeClass("activ"),$(t).addClass("activ"),$("#word-lern-1").fadeOut().fadeIn();var a=setWordById(e),n=setTransById(e);setNoteById(e),$("#my-text").attr("data-id",e),$("#idWord").val(e),$("#word-lern-1").attr("data-id",e),$("#word-lern-1").attr("data-word",a),$("#word-lern-1").attr("data-trans",n),$("#my-trans").val(""),$("#my-trans").focus(),setNavWordPosition($("#nav-words-container p.activ").index()),setTimeout(tellMe,100)}function nextWord(){$(".confirm-swipe").hide(),$("#my-trans").focus();var e=$("#nav-words-container p").length,t=$("#nav-words-container p.activ").index()+1;e<=t?alert("Wszystkiego już się nauczyłeś:)"):(setWordToLearn($("#nav-words-container p").eq(t).data("word-id"),$("#nav-words-container p").eq(t)),setNavWordPosition(t))}function setWordById(e){$("#idWord").val(e);for(var t in trans){var a=trans[t];a.id==e&&(act_word=a.name)}}function setNoteById(e){act_text="";var t=$("#myLang").val()+"\\"+$("#myParentCat").val()+"\\"+$("#myCat").val()+"\\"+$("#learnLang").val()+"\\"+e;for(var a in noticeJSON){var n=noticeJSON[a];if(n.word==t)return void(act_text=n.notice)}}function setTransById(e){for(var t in words){var a=words[t];a.id==e&&(act_trans=a.name)}}function checkMySelf(){$("#word-lern-1").hide(),$("#confirm-my").text($("#my-trans").val()),$(".confirm-swipe").show(),$(".confirm-swipe table").show(),$(".confirm-swipe table").css({top:"0px"}),$(".confirm-swipe table").removeClass("good"),$(".confirm-swipe table").removeClass("bad")}function clearDraggableField(){blockClear||($(".confirm-swipe table").show(),setTimeout(function(){$(".confirm-swipe").removeClass("flipper-hide"),$(".confirm-swipe table").removeClass("good"),$(".confirm-swipe table").removeClass("bad"),$(".confirm-swipe table").removeClass("good-right"),$(".confirm-swipe table").removeClass("bad-right"),$(".confirm-swipe table").removeClass("goLeft"),$(".confirm-swipe table").removeClass("goRight"),setTimeout(function(){antyNaparzanka=!1},500)},50))}function tellMe(){null!=my_media&&(my_media.stop(),my_media.stopRecord(),my_media.release(),my_media=null);var e=$("#idWord").val(),t="/android_asset/www/date/"+$("#learnLang").val()+"/"+$("#myParentCat").val()+"/"+$("#myCat").val()+"/sound/"+e+".m4a";console.log(t),setTimeout(function(){null!=my_media&&(my_media.stop(),my_media.stopRecord(),my_media.release(),my_media=null),(my_media=new Media(t,function(){},function(e){console.log("M: "+e.message+" - "+e.code)})).play()},100)}function stopTelling(){null!=my_media&&(my_media.stop(),my_media.stopRecord(),my_media.release(),my_media=null)}function tellMeWord(e,t){null!=my_media&&(my_media.stop(),my_media.stopRecord(),my_media.release(),my_media=null);var a="/android_asset/www/date/"+$("#learnLang").val()+"/"+e+"/sound/"+t+".m4a";console.log(a),setTimeout(function(){null!=my_media&&(my_media.stop(),my_media.stopRecord(),my_media.release(),my_media=null),(my_media=new Media(a,function(){},function(e){console.log("M: "+e.message+" - "+e.code)})).play()},100)}function copyFirstPath(){asset2sd.copyDir({asset_directory:"www/firstPatch",destination_directory:mainPath},function(){},function(){alert("fail")})}function saveNotice(e){if(""!=e){act_text=e;var t=$("#myLang").val()+"\\"+$("#myParentCat").val()+"\\"+$("#myCat").val()+"\\"+$("#learnLang").val()+"\\"+$("#idWord").val(),a=!1;for(var n in noticeJSON){var o=noticeJSON[n];o.word==t&&(o.notice=e,a=!0)}a||noticeJSON.push({word:t,notice:e}),window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSN,failN)}}function gotFSN(e){var t=path()+"notice.json";e.root.getFile(t,{create:!1},gotFileEntryN,failN)}function gotFileEntryN(e){e.createWriter(gotFileWriterN,failN)}function gotFileWriterN(e){e.onwrite=function(e){console.log("write success")},e.write(JSON.stringify(noticeJSON)),e.abort()}function failN(e){console.log("error : "+e.code)}function setWordToMethod(e){switch($(".learnMethod").hide(),$(".bad-bad").removeClass("activ"),setTimeout(function(){6==e||1==e&&!thirdCycle?$(".bad-bad").addClass("activ"):$(".bad-bad").removeClass("activ")},800),""!=act_text?$(".remind-img").show():$(".remind-img").hide(),e){case 1:$(".show-hidden-word").show(),$("#confirm-correct-1").hide(),$("#confirm-correct-1").html(act_word),$("#confirm-trans-1").html(act_trans),$("#confirm-text-1").val(act_text);break;case 2:$("#confirm-correct-2").html(act_word),$("#confirm-trans-2").html(act_trans),$("#confirm-text-2").val(act_text);break;case 3:$("#confirm-text-3").val(act_text),$("#question-3").val("");break;case 4:tellMe(),$("#confirm-correct-4").html(act_word),$(".show-hidden-word").show(),$("#confirm-trans-4").hide(),$("#confirm-trans-4").html(act_trans),$("#confirm-text-4").val(act_text);break;case 5:$("#confirm-text-5").val(act_text),$("#question-5").val("");break;case 6:$("#confirm-correct-6").html(act_word),$(".show-hidden-word").show(),$("#confirm-trans-6").hide(),$("#confirm-trans-6").html(act_trans),$("#confirm-text-6").val(act_text);break;default:console.log("error")}$(".support-word-in-speach p").text(act_word),$("#word-lern-"+e).show(),$(".nbWordInCycle").text($("#nav-words-container p.pulse").index()+1+"/10"),$("#nav-words-container p.pulse").index()<0&&($(".nbWordInCycle").text(""),$("#nav-words-container-thd p").each(function(){if($(this).hasClass("activ")){var e=$(this).attr("data-word-id");$(".nbWordInCycle").text(e+"/10")}}),setTimeout(function(){$("#nav-words-container-thd p").each(function(){if($(this).hasClass("activ")){var e=$(this).attr("data-word-id");$(".nbWordInCycle").text(e+"/10")}})},300))}function setActWord(e){$("#idWord").val(e),setWordById(e),setNoteById(e),setTransById(e),setActuLikedIcon()}function nextStepBlock(){canNextStep=0}function noLearnt(){canNextStep=0,setTimeout(function(){clearDraggableField()},100),0==(noLerntStep=1)?(whereGo=0,setWordToMethod(3),noLerntStep=1):(theSameMethod=!0,whereGo=-1,setWordToMethod(4),noLerntStep=0,canNextStep=2)}function getAntyNaparzanka(){return antyNaparzanka}function setAntyNaparzankaToTrue(){antyNaparzanka=!0}function nextStep(){if(countOfWrongRecognized=0,antyNaparzanka=!0,hideBars(),backToNormalStateNote(),$(".recTextWrap").hide(),$(".recText").text(""),$(".learnMethod").removeClass("badRec"),$(".learnMethod").removeClass("goodRec"),$(".cloud-again").hide(),$(".cloud-next-task").hide(),$(".support-word-in-speach").hide(),updateProgressBar(),readyToSaveNotice?saveNotice($("#confirm-text-"+nbMethod).val()):readyToSaveNotice=!0,3!=round||(2==canNextStep&&(noPlus=1,canNextStep=1,nbMethod=4,nbStep=0),0!=canNextStep))if(setTimeout(function(){clearDraggableField()},300),firstCycle)if(isPreparetoFirst){if(!canNextStep)return whereGo=0,nbMethod=2,setWordToMethod(2),canNextStep=!0,void tellMe();if(1==nbMethod||2==nbMethod){if(whereGo=-1,nbMethod=1,(e=$("#nav-words-container p").length)<=(t=$("#nav-words-container p.activ").index()+1))return round=2,firstCycle=!1,void nextStep();setActWord($("#nav-words-container p").eq(t).data("word-id")),setNavWordPosition(t),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(t).addClass("pulse"),$("#nav-words-container p").eq(t).addClass("activ"),setTimeout(function(){setWordToMethod(2),tellMe()},50)}}else whereGo=-1,setActWord($("#nav-words-container p").eq(0).data("word-id")),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse"),setWordToMethod(2),setNavWordPosition(0),isPreparetoFirst=!0,tellMe();else if(secondCycle){if(2==round)lastWordSecondRound=!0,whereGo=-1,setActWord($("#nav-words-container p").eq(0).data("word-id")),setNavWordPosition(1),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse"),setTimeout(function(){setWordToMethod(4),tellMe()},100),theSameMethod=!0,round=3,nbMethod=4;else if(3==round)if(theSameMethod=!1,noFlipIfWrong=!1,4==nbMethod&&0==nbStep){whereGo=1;if((e=$("#nav-words-container p").length)<=(t=$("#nav-words-container p.activ").index()+1))return $("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse"),round=4,secondCycle=!1,void nextStep();setActWord($("#nav-words-container p").eq(t).data("word-id")),setNavWordPosition(t),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(t).addClass("activ"),$("#nav-words-container p").eq(t).addClass("pulse"),setTimeout(function(){setWordToMethod(4),tellMe()},100),nbMethod=4,nbStep=1}else if(4==nbMethod&&0!=nbStep){whereGo=0;t=$("#nav-words-container p.activ").index()-1;setActWord($("#nav-words-container p").eq(t).data("word-id")),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(t).addClass("activ"),$("#nav-words-container p").eq(t).addClass("pulse"),setTimeout(function(){setWordToMethod(1)},100),nbStep=2,nbMethod=6,whereGo=-1,theSameMethod=!0}else if(1==nbMethod&&1==nbStep)whereGo=-1,nbMethod=6,setWordToMethod(6),nbStep=2,noFlipIfWrong=!0;else if(6==nbMethod){if((t=$("#nav-words-container p.activ").index()+1)<(e=$("#nav-words-container p").length)-1)return $("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").eq(t).addClass("activ"),whereGo=-1,nbMethod=4,nbStep=0,void nextStep();whereGo=0;t=$("#nav-words-container p.activ").index()+1;setActWord($("#nav-words-container p").eq(t).data("word-id")),$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(t).addClass("activ"),$("#nav-words-container p").eq(t).addClass("pulse"),setTimeout(function(){setWordToMethod(1)},100),nbStep=0,nbMethod=4,whereGo=-1,theSameMethod=!0}else if(1==nbMethod&&2==nbStep)return whereGo=-1,nbMethod=4,nbStep=0,void nextStep()}else if(thirdCycle){if(4==round){t=$("#nav-words-container p.activ").index(),$("#nav-words-container p").eq(t).data("word-id");if(0==nbStep){if(1!=prepareToThird){var e=$("#nav-words-container p").length;if(e<=(t=$("#nav-words-container p.activ").index()+1))return round=5,void nextStep();$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(t).addClass("activ"),$("#nav-words-container p").eq(t).addClass("pulse")}else prepareToThird=0;whereGo=0;var t=$("#nav-words-container p.activ").index();setActWord($("#nav-words-container p").eq(t).data("word-id")),setNavWordPosition(t),setTimeout(function(){setWordToMethod(1)},100),nbMethod=5,nbStep=0,whereGo=-1}else{if(1!=nbStep)return round=5,thirdCycle=!1,void nextStep();whereGo=-1,$("#nav-words-container p.activ").eq(t).addClass("pulse");$("#nav-words-container p").eq(t).data("word-id");setTimeout(function(){setWordToMethod(6)},100),nbStep=0}}else if(5==round)return thirdCycle=!1,void nextStep()}else nextPack();else noLearnt()}function nextPack(){blockClear=!0,$(".confirm-swipe table").hide(),$(".left-time").text((learnetCatToday-1)*minCat);var e=Math.round((learnetCatToday-1)/countCatsToLearnToday*100);$("#progess-btn-stan-end").addClass("p"+e),removeProgressClassMin($("#progess-btn-stan-end"),e),setTimeout(function(){blockClear=!1,isRepeatCycle?($(".timeLernedToday").text((learnetCatToday-1)*minCat),$(".allTimeToday").text(countCatsToLearnToday*minCat),$("section").hide(),$("#end-cat").show(),setTimeout(function(){$("#end-cat").removeClass("next-cat-left"),$("#learn-container").addClass("next-cat-left")},50),isRepeatCycle=!1):($("#end-cat").addClass("next-cat-right"),setTimeout(function(){$("#end-cat").hide(),$("#end-cat").removeClass("next-cat-right"),$("#end-cat").addClass("next-cat-left"),packControler()},800))},500)}function repeatThrid(e,t){whereGo=6==t?-1:0,setTimeout(function(){setActWord(e),setTimeout(function(){setWordToMethod(t),pulseThdNav(e)},5)},100)}function updateThirdNav(){var e=1,t=[];t.push(snd_id),t.push(thd_id),$("#nav-words-container-thd p").hide(),$("#nav-words-container-thd p").attr("data-word-id",0),$("#nav-words-container p").each(function(){var a=$(this).attr("data-word-id"),n=$(this).children("img").attr("src");for(k=0;k<t.length;k++)if(a==t[k]){$("#nav-th-"+e).children("img").attr("src",n),$("#nav-th-"+e).attr("data-word-id",a),$("#nav-th-"+e).show(),e++,t.splice(k,1);break}})}function pulseThdNav(e){setTimeout(function(){$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container-thd p").removeClass("pulse"),$("#nav-words-container-thd p").removeClass("activ"),$("#nav-words-container-thd p").each(function(){var t=$(this).attr("data-word-id");e==t&&($(this).addClass("pulse"),$(this).addClass("activ"))})},200)}function showAllNote(){showNote(1),showNote(2),showNote(3),showNote(4),showNote(5),showNote(6),$(".recText").hide()}function showNote(e){var t="#l-n-"+e,a="#l-t-"+e,n="#l-e-"+e;$(a).hide(),1==$(t).is(":visible")?($(t).hide(),$(n).show(),showTrans(e)):($(n).hide(),$(t).show())}function showTrans(e){var t="#l-n-"+e,a="#l-t-"+e,n="#l-e-"+e;$(t).hide(),1==$(a).is(":visible")?($(a).hide(),$(n).show()):($(n).hide(),$(a).show())}function backToNormalStateNote(){$("#l-n-1").hide(),$("#l-n-2").hide(),$("#l-n-3").hide(),$("#l-n-4").hide(),$("#l-n-5").hide(),$("#l-n-6").hide(),$("#l-e-1").hide(),$("#l-e-2").hide(),$("#l-e-3").hide(),$("#l-e-4").hide(),$("#l-e-5").hide(),$("#l-e-6").hide(),$("#l-t-1").show(),$("#l-t-2").show(),$("#l-t-3").show(),$("#l-t-4").show(),$("#l-t-5").show(),$("#l-t-6").show(),hideKeyboard(),hideHoverNoteBtn(".note-btn")}function hideKeyboard(){$("#l-n-1").blur(),$("#l-n-2").blur(),$("#l-n-3").blur(),$("#l-n-4").blur(),$("#l-n-5").blur(),$("#l-n-6").blur()}function showNoteForTut(e){var t="#t-l-n-"+e,a="#t-l-t-"+e,n="#t-l-e-"+e;$(a).hide(),1==$(t).is(":visible")?($(t).hide(),$(n).show()):($(n).hide(),$(t).show())}function showTransForTut(e){var t="#t-l-n-"+e,a="#t-l-t-"+e,n="#t-l-e-"+e;$(t).hide(),1==$(a).is(":visible")?($(a).hide(),$(n).show()):($(n).hide(),$(a).show())}function tellMeNow(e){tellMe()}function prepareGlobalForCycle(e){switch(e){case 1:$("#nav-words-container-thd p").hide(),round=1,nbMethod=2,isPreparetoFirst=!1,firstCycle=!0,secondCycle=!1,thirdCycle=!1;break;case 2:$("#nav-words-container-thd p").hide(),round=2,nbMethod=2,nbStep=0,noPlus=0,canNextStep=1,noLerntStep=0,firstCycle=!1,secondCycle=!0,thirdCycle=!1;break;case 3:$("#nav-words-container-thd p").hide(),round=4,nbStep=0,canNextStep=1,prepareToThird=1,fst_id=0,snd_id=0,thd_id=0,temid=0,fin_id=0,firstCycle=!1,secondCycle=!1,thirdCycle=!0,repeatSec=1,repeatThd=1,s_nowe=0,t_nowe=0,id_powt=-1,s_bylo=0,t_bylo=0,stepow=0,ile_s=0,ile_t=0,last_r_s=-1}$("#nav-words-container p").removeClass("activ"),$("#nav-words-container p").removeClass("pulse"),$("#nav-words-container p").eq(0).addClass("activ"),$("#nav-words-container p").eq(0).addClass("pulse")}function addFunction(e,t){return Number.isInteger(t)?e+t:e}function packControler(){waintingLearned=0;var e=!1;$("#startDay").hide(),$("#words-nav").show(),$("#ok-no-panel").show(),-10!=toLearn.reduce(function(e,t){return e+t},0)&&setTimeout(function(){$("#learn-container").removeClass("next-cat-left")},500);for(var t=0;t<10&&!e;t++)if(continueLearning=!1,-1!=toLearn[t]){switch(clearNoticeFields(),setEveryThingToStartCat(toLearn[t]),getSubCatName(toLearn[t]),e=!0,continueLearning=!0,t){case 0:clearDraggableField(),isRepeatCycle=!1,copyOfLearnArray=toLearn.slice(),learnedWordsCopy=learnedWords,learnetCatTodayCopytBTN=learnetCatToday,showAd(),countWordsToLearnInThisCycle=wordsInOneCat+2*wordsInOneCat,learnedWordsInCat=0,prepareGlobalForCycle(1),setTimeout(function(){showStartCat(learnetCatToday,nameCat)},100);break;case 1:isRepeatCycle=!0,prepareGlobalForCycle(2),setTimeout(function(){nextStep()},300),learnetCatToday++;break;case 2:clearDraggableField(),isRepeatCycle=!1,copyOfLearnArray=toLearn.slice(),learnedWordsCopy=learnedWords,learnetCatTodayCopytBTN=learnetCatToday,showAd(),countWordsToLearnInThisCycle=wordsInOneCat+2*wordsInOneCat,learnedWordsInCat=0,prepareGlobalForCycle(2),setTimeout(function(){showStartCat(learnetCatToday,nameCat)},100);break;case 3:isRepeatCycle=!0,prepareGlobalForCycle(3),setTimeout(function(){nextStep()},300),learnetCatToday++;break;case 4:clearDraggableField(),isRepeatCycle=!1,copyOfLearnArray=toLearn.slice(),learnedWordsCopy=learnedWords,learnetCatTodayCopytBTN=learnetCatToday,showAd(),countWordsToLearnInThisCycle=wordsInOneCat+2*wordsInOneCat,learnedWordsInCat=0,prepareGlobalForCycle(2),setTimeout(function(){showStartCat(learnetCatToday,nameCat)},100);break;case 5:isRepeatCycle=!0,prepareGlobalForCycle(3),setTimeout(function(){nextStep()},300),learnetCatToday++;break;case 6:clearDraggableField(),isRepeatCycle=!1,copyOfLearnArray=toLearn.slice(),learnedWordsCopy=learnedWords,learnetCatTodayCopytBTN=learnetCatToday,showAd(),countWordsToLearnInThisCycle=wordsInOneCat+2*wordsInOneCat,learnedWordsInCat=0,prepareGlobalForCycle(2),setTimeout(function(){showStartCat(learnetCatToday,nameCat)},100);break;case 7:isRepeatCycle=!0,prepareGlobalForCycle(3),setTimeout(function(){nextStep()},300),learnetCatToday++;break;case 8:clearDraggableField(),isRepeatCycle=!1,countWordsToLearnInThisCycle=wordsInOneCat+2*wordsInOneCat,learnedWordsInCat=0,learnetCatTodayCopytBTN=learnetCatToday,newCategoryisSet=!0,prepareGlobalForCycle(1),setTimeout(function(){nextStep()},300);break;case 9:isRepeatCycle=!1,newCategoryisSet=!0,prepareGlobalForCycle(2),setTimeout(function(){nextStep()},300)}toLearn[t]=-1}continueLearning||(newCategoryisSet?(endTodayLesson=!0,saveDay()):(showAd(),copyOfLearnArray=toLearn.slice(),learnedWordsCopy=learnedWords,startChoiceNewCategory()))}function clearNoticeFields(){$("#confirm-text-1").val(""),$("#confirm-text-2").val(""),$("#confirm-text-3").val(""),$("#confirm-text-4").val(""),$("#confirm-text-5").val(""),$("#confirm-text-6").val("")}function setEveryThingToStartCat(e){var t=e.split("/"),a=t[0],n=t[1];$("#myParentCat").val(a),$("#myCat").val(n),setTimeout(function(){getWordList()},10)}function whereGoNow(){return whereGo}function getsecondCycle(){return secondCycle}function getfirstCycle(){return firstCycle}function getNoFlipIfWrong(){return noFlipIfWrong}function setNoFlipIfWrong(e){noFlipIfWrong=e}function isRoundTwoAndTheSameMethod(){return 3==round&&theSameMethod||4==round||1==round}function showStartCat(e,t){removeAllProgressClass($("#progess-btn-stan")),$("#start-next-cat").show(),$("#nav-circle-word").hide(),$("#learn-container").hide(),$("#main-text-next-cat").text(e+"/"+countCatsToLearn),$("#main-text-next-cat-end").text(e+"/"+countCatsToLearn),$(".all-words-to-end-sesion-in-repeat").text(countWordsToLearn-learnedWords),$("#name-next-cat").text(t);var a=Math.round((e-1)/countCatsToLearn*100);$("#progess-btn-per").text(a+"%"),setTimeout(function(){$("#start-next-cat").removeClass("next-cat-left"),setTimeout(function(){loadProgressBarToFull()},500)},500)}function loadProgressBarToFull(){ix=1,smoothLoadProgressBar()}function smoothLoadProgressBar(){setTimeout(function(){$("#progess-btn-stan").addClass("p"+ix),++ix<101&&smoothLoadProgressBar()},15)}function nextCatBtn(){$("#start-next-cat").addClass("next-cat-right"),$("#learn-container").addClass("next-cat-left"),setTimeout(function(){$("#nav-circle-word").show(),$("#learn-container").show(),setTimeout(function(){$("#learn-container").removeClass("next-cat-left"),removeAllProgress()},500),$("#start-next-cat").hide(),$("#start-next-cat").removeClass("next-cat-right"),$("#start-next-cat").addClass("next-cat-left"),nextStep()},500)}function removeAllProgress(){for(var e=1;e<102;e++)$("#progess-btn-stan").removeClass("p"+e)}function increaseLearned(){if(waintingLearned>0)waintingLearned--;else if(thirdCycle){var e=!1;$("#nav-words-container-thd p").each(function(){$(this).hasClass("activ")&&(e=!0)}),setTimeout(function(){e||(learnedWords++,learnedWordsInCat++)},50)}else learnedWords++,learnedWordsInCat++}function setWaintingLearned(){if(getfirstCycle()?waintingLearned=1:getsecondCycle()&&(waintingLearned+=6==nbMethod?3:2==nbStep?0:2),thirdCycle){var e=!1;$("#nav-words-container-thd p").each(function(){$(this).hasClass("activ")&&(e=!0)}),setTimeout(function(){e||(learnedWords++,learnedWordsInCat++)},50)}}function endLearn(){$("#learn-container").addClass("next-cat-right"),$("#saving-progress-today").addClass("next-cat-right"),""!=todayEndedCat&&allEndedCats.push(todayEndedCat),uniqueallEndedCats=allEndedCats.filter(function(e,t){return allEndedCats.indexOf(e)==t}),$(".allWords").text(dayJSON.words),$(".countKMLearned").text(Math.floor(dayJSON.km*minCat/60)),$(".countMinLearned").text(Math.floor(dayJSON.km*minCat%60)),allCats.sort().toString()==uniqueallEndedCats.sort().toString()&&(0==inProgressCat.length||1==inProgressCat.length&&inProgressCat[0]==todayEndedCat)?setTimeout(function(){$("#learn-container").hide(),$("#saving-progress-today").hide(),$("#end-course").show(),setTimeout(function(){$("#end-course").removeClass("next-cat-left"),showRating()},100)},500):setTimeout(function(){showEndNewMaterialsInfo(),$("#learn-container").hide(),$("#saving-progress-today").hide(),$("#end-panel").show(),setTimeout(function(){$("#end-panel").removeClass("next-cat-left"),showRating()},100)},500)}function startTut(){$("body").addClass("tutorial-body-darkness"),$(".background").addClass("background-tutorial-darkness"),stepTut=1,$("#choose-lang").hide(),$(".cursor-TUT").hide(),$("#menu-switch").addClass("half-opacity"),$("#new-tutorial").show(),setTimeout(function(){$("#new-tutorial").removeClass("next-cat-left")},200)}function nextTutStep(){$("#popup-TUT-"+stepTut).addClass("next-cat-left"),stepTut++,removeFullOpacity(),removeAllCursors(),setTimeout(function(){switch($("#popup-TUT-"+parseInt(stepTut-1)).hide(),$("#popup-TUT-"+parseInt(stepTut-1)).addClass("next-cat-right-right"),$("#popup-TUT-"+stepTut).show(),$("#popup-TUT-"+stepTut).removeClass("next-cat-right-right"),$(".cursor-TUT").addClass("cursor-TUT-"+stepTut),stepTut){case 2:$("#new-tutorial-repeat-text span").addClass("full-opacity");break;case 3:$("#progess-btn-stan-in-cycle-TUT").addClass("full-opacity");break;case 4:$("#new-tutorial .mic-container").addClass("full-opacity");break;case 5:$("#notebtn-TUT").addClass("full-opacity");break;case 6:$(".star-liked-TUT").addClass("full-opacity");break;case 7:$("#menu-switch").addClass("full-opacity");break;case 9:endTutWrap()}},800)}function removeFullOpacity(){$("#new-tutorial-repeat-text span").removeClass("full-opacity"),$("#progess-btn-stan-in-cycle-TUT").removeClass("full-opacity"),$("#new-tutorial .mic-container").removeClass("full-opacity"),$("#notebtn-TUT").removeClass("full-opacity"),$(".star-liked-TUT").removeClass("full-opacity"),$("#menu-switch").removeClass("full-opacity")}function removeAllCursors(){$(".cursor-TUT").removeClass("cursor-TUT-1"),$(".cursor-TUT").removeClass("cursor-TUT-2"),$(".cursor-TUT").removeClass("cursor-TUT-3"),$(".cursor-TUT").removeClass("cursor-TUT-4"),$(".cursor-TUT").removeClass("cursor-TUT-5"),$(".cursor-TUT").removeClass("cursor-TUT-6"),$(".cursor-TUT").removeClass("cursor-TUT-7"),$(".cursor-TUT").removeClass("cursor-TUT-8"),$(".cursor-TUT").removeClass("cursor-TUT-9")}function updateProgressTut(e){var t=100-Math.round(e/12*100);$("#progess-btn-stan-in-cycle-tut2").addClass("p"+t),removeProgressClassMin($("#progess-btn-stan-in-cycle-tut2"),t)}function endTutWrap(){$("#menu-switch").removeClass("half-opacity"),$("body").removeClass("tutorial-body-darkness"),$(".background").removeClass("background-tutorial-darkness"),$("#new-tutorial").addClass("next-cat-right"),$(".popup-TUT").hide(),$(".popup-TUT").addClass("next-cat-right-right"),setTimeout(function(){setTimeout(function(){$("#page-after-tutorial").removeClass("next-cat-left")},300),$("#new-tutorial").hide(),$(".popup-TUT").show(),$("#page-after-tutorial").show()},600)}function endTut(){$("#startDay").addClass("next-cat-left"),stepTut=0,$("#tutorial").hide(),$(".tut-method").hide(),$("#page-after-tutorial").addClass("next-cat-left"),setTimeout(function(){$("#page-after-tutorial").hide(),startLearn&&(showStartLessonPage(),startLearn=!1)},1e3)}function startSetNewCategory(){getCatList(),$("#new-category-choice").addClass("next-cat-left"),setTimeout(function(){firstGenerationCat&&(firstGenerationCat=!1,activateSearch()),$("#new-category-choice").hide(),setTimeout(function(){$("#choose-cat").show()},75),setTimeout(function(){$("#choose-cat").removeClass("next-cat-right")},150),$("#cats").show()},700)}function runList(){setTimeout(function(){firstGenerationCatAllCats&&(firstGenerationCatAllCats=!1,activateSearchAllCats())},700)}function closeManualSettingCat(){$("#new-category-choice").show(),$("#choose-cat").addClass("next-cat-right"),setTimeout(function(){$("#new-category-choice").removeClass("next-cat-left"),$("#choose-cat").hide()},700)}function backToSetNewCategory(){$("#choose-cat").addClass("next-cat-right"),setTimeout(function(){$("#choose-cat").hide(),$("#new-category-choice").show(),setTimeout(function(){$("#new-category-choice").removeClass("next-cat-left"),$("#learn-container").addClass("next-cat-left"),$("#progess-btn-stan-in-cycle").addClass("p100"),$(".progess-btn-stan-in-session").addClass("p100"),setTimeout(function(){loadProgressBarToFull2()},200)},50)},500)}function startChoiceNewCategory(){sugGetIsSetter?($("#suggest-new-category").text(suggestedCatName),$("section").hide(),$("#new-category-choice").show(),setTimeout(function(){$("#new-category-choice").hasClass("next-cat-right")?$("#new-category-choice").removeClass("next-cat-right"):$("#new-category-choice").removeClass("next-cat-left"),$("#learn-container").addClass("next-cat-left"),$(".progess-btn-stan-in-session").addClass("p100"),$("#progess-btn-stan-in-cycle").addClass("p100"),setTimeout(function(){loadProgressBarToFull2()},200),setPopupAboutNoAudioLesson()},50)):(endTodayLesson=!0,saveDay())}function loadProgressBarToFull2(){ix2=1,smoothLoadProgressBar2()}function smoothLoadProgressBar2(){setTimeout(function(){$("#progess-btn-stan-in-cycle-ncat").addClass("p"+ix2),++ix2<101&&smoothLoadProgressBar2()},15)}function removeAllProgress2(){for(var e=1;e<102;e++)$("#progess-btn-stan-in-cycle-ncat").removeClass("p"+e)}function setSuggestedCat(e,t){var a=$("#myLang").val();$.get("date/"+a+"/"+e+"/subcat.json",function(e){var a=JSON.parse(e);for(var n in a){var o=a[n];o.id==t&&getCatWithPos(o.pos,1)}})}function setThisAsSuggestedCat(e,t){var a=$("#myLang").val();userChoiceCat=!0,$.get("date/"+a+"/"+e+"/subcat.json",function(e){var a=JSON.parse(e);for(var n in a){var o=a[n];o.id==t&&getCatWithPos(o.pos,0)}})}function setSuggestedCatName(e,t){var a=$("#myLang").val();$.get("date/"+a+"/"+e+"/subcat.json",function(e){var a=JSON.parse(e);for(var n in a){var o=a[n];o.id==t&&getCatWithPos(o.pos,1)}})}function setSuggestedCatAsNew(){$("#new-category-choice").addClass("next-cat-right"),setTimeout(function(){$("#new-category-choice").hide(),dayJSONwordsCopy=dayJSON.words,dayJSON.words=dayJSON.words+wordsInOneCat;var e=suggestedCatPath.split("/"),t=e[0],a=e[1];$("#learn-container").addClass("next-cat-left"),$(".countOfNewWordsToday").text(wordsInOneCat),setTimeout(function(){setNewCat(t,a),$("#myCat").val(a),$("#myParentCat").val(t),$("#learn-container").show(),packControler(),$("#words-nav").show()},300)},500)}function showStartLessonPage(){gameIsBegin=!0,$("seciton").hide(),$("#startDay").show(),setTimeout(function(){$("#startDay").removeClass("next-cat-left")},100)}function startLesson(){packControler()}function removeAllProgressClass(e){}function removeProgressClassMin(e,t){for(var a=100;a>t;a--)e.removeClass("p"+a)}function updateProgressBar(){removeAllProgressClass($("#progess-btn-stan-in-cycle")),removeAllProgressClass($(".progess-btn-stan-in-cycle-2")),removeAllProgressClass($(".progess-btn-stan-in-cycle-3")),setTimeout(function(){var e=100-Math.round(learnedWords/countWordsToLearn*100),t=100-Math.round(learnedWordsInCat/countWordsToLearnInThisCycle*100),a=Math.round(learnedWordsInCat/countWordsToLearnInThisCycle*100),n=Math.round(learnedWords/countWordsToLearn*100);$("#progess-btn-stan-in-cycle").addClass("p"+n),$(".progess-btn-stan-in-session").addClass("p"+t),$(".progess-btn-stan-in-cycle-2").addClass("p"+a),$(".progess-btn-stan-in-cycle-3").addClass("p"+e),removeProgressClassMin($("#progess-btn-stan-in-cycle"),n),removeProgressClassMin($(".progess-btn-stan-in-session"),t),removeProgressClassMin($(".progess-btn-stan-in-cycle-2"),a),removeProgressClassMin($(".progess-btn-stan-in-cycle-3"),e),$(".all-words-to-end").text(countWordsToLearn-learnedWords),$("#learn-container .all-words-to-end").text(parseInt(learnedWordsInCat/countWordsToLearnInThisCycle*100)+"%"),countWordsToLearn-learnedWords!=countWordsToLearnInThisCycle-learnedWordsInCat?$(".all-words-to-end-sesion").text(countWordsToLearnInThisCycle-learnedWordsInCat):$(".all-words-to-end-sesion").text("")},50)}function getCatWithPos(e,t){$.get("date/"+langJSON.lang+"/cat.json",function(a){var n=JSON.parse(a),o=n.length;for(var r in n){var s=n[r].id;$.ajax({url:"date/"+langJSON.lang+"/"+s+"/subcat.json",type:"get",dataType:"html",async:!1,success:function(a){var n=JSON.parse(a),i=n.length;for(var d in n){var c=n[d];if(parseInt(c.pos)==parseInt(e)+t){if(userChoiceCat||!(dayJSON.skiped.indexOf(s+"/"+c.id)>=0||learnedCat.indexOf(s+"/"+c.id)>=0||inProgressCat.indexOf(s+"/"+c.id)>=0))return userChoiceCat=!1,$("#sugCatPar").val(s),$("#sugCatSub").val(c.id),suggestedCatHasAudio=c.audio,suggestedCatPath=s+"/"+c.id,suggestedCatName=c.name,getWordToSuggestCat(s+"/"+c.id),void(sugGetIsSetter=!0);if(parseInt(r)+1==o&&parseInt(d)+1==i)return scdCycleInSearchSub?void isNotNewCat():(scdCycleInSearchSub=!0,void getCatWithPos(1,0));t++}else if(e==allCats.length&&allCats.length>0&&parseInt(c.pos)==e)return scdCycleInSearchSub?void isNotNewCat():(scdCycleInSearchSub=!0,void getCatWithPos(1,0))}}})}})}function getAllCatsInArray(){$.get("date/"+langJSON.lang+"/cat.json",function(e){var t=JSON.parse(e);for(var a in t){var n=t[a].id;$.get("date/"+langJSON.lang+"/"+n+"/subcat.json",function(e){var t=JSON.parse(e);for(var a in t){var o=t[a];allCats.push(n+"/"+o.id)}})}})}function isNotNewCat(){gameIsBegin&&(suggestedCatHasAudio=-1,$("#new-category-choice").addClass("next-cat-right"),endTodayLesson=!0,saveDay(),setTimeout(function(){$("#new-category-choice").hide()},500))}function getNextSugCat(){scdCycleInSearchSub=!1;var e=$("#sugCatPar").val(),t=$("#sugCatSub").val();setSuggestedCat(e,t),addCatToMissing(e+"/"+t),setTimeout(function(){$("#suggest-new-category").text(suggestedCatName),setPopupAboutNoAudioLesson()},350)}function addCatToMissing(e){dayJSON.skiped.push(e),allEndedCats.push(e)}function getThisCatAsSug(e){setThisAsSuggestedCat($(e).attr("data-parent"),$(e).attr("data-subcat")),setTimeout(function(){$("#suggest-new-category").text(suggestedCatName),backToSetNewCategory()},100)}function saveProgressInFile(){(progressJSON=JSON.parse('{"langJSON": "", "dayJSON": "", "toLearnJSON": "", "noticeJSON": "", "likedJSON": ""}')).langJSON=langJSON,progressJSON.dayJSON=dayJSON,progressJSON.toLearnJSON=toLearnJSON,progressJSON.noticeJSON=noticeJSON,progressJSON.likedJSON=likedJSON,saveFileProgress()}function saveFileProgress(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSNProgress,failN)}function gotFSNProgress(e){e.root.getFile(srcSaveProgress,{create:!0},gotFileEntryNProgress,failN)}function gotFileEntryNProgress(e){e.createWriter(gotFileWriterNProgress,failN),srcToShare=e.toURL()}function gotFileWriterNProgress(e){e.onwrite=function(e){console.log("write success")},e.write(JSON.stringify(progressJSON)),e.abort()}function failN(e){}function loadProgress(e){srcLoadProgress=e,window.FilePath.resolveNativePath(srcLoadProgress,function(e){window.resolveLocalFileSystemURL(e,function(e){e.file(function(e){var t=new FileReader;t.onloadend=function(e){if(IsJsonString(e.target.result)){var t=JSON.parse(e.target.result);langJSON=t.langJSON,dayJSON=t.dayJSON,toLearnJSON=t.toLearnJSON,noticeJSON=t.noticeJSON,likedJSON=t.likedJSON,saveLang(),window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSN,failN),endTodayLesson=!1,datesJSON5=dayJSON,srcSave5=path()+"day.json",saveFile5(),setTimeout(function(){datesJSON=toLearnJSON,srcSave=path()+"save.json",saveFile()},200),setTimeout(function(){alert("Plik pomyślnie wczytano! Aplikacja automatycznie uruchomi się ponownie"),setTimeout(function(){location.reload()},500)},500)}else alert("Plik jest nieprawidłowy!")},t.readAsText(e)})},function(e){alert("Plik jest nieprawidłowy!")})})}function IsJsonString(e){try{JSON.parse(e)}catch(e){return!1}return!0}function showInProgressCat(){for(var e in inProgressCat){var t=inProgressCat[e].split("/");setinProgressCatList(t[0],t[1])}}function setinProgressCatList(e,t){if(!(isInList.indexOf(e+"/"+t)>=0)){isInList.push(e+"/"+t);var a=$("#myLang").val();$.get("date/"+a+"/"+e+"/subcat.json",function(a){var n=JSON.parse(a);for(var o in n){var r=n[o];r.id==t&&($(".catNameInListWord").text(r.name),$(".inProgressCatList").append('<p class="text" onclick="showMeWordInThisCat('+e+", "+t+", '"+r.name+"')\">"+r.name+"</p>"))}})}}function showMeWordInThisCat(e,t,a){$(".catNameInListWord").text(a),fillTableListWordInCatMain(e,t),$("#list-of-word-in-cat").show(),setTimeout(function(){$("#list-of-word-in-cat").removeClass("goLeft")},300)}function fillTableListWordInCatMain(e,t){var a=e+"/"+t,n=1;$.get("date/"+langJSON.lang+"/"+a+"/words.json",function(o){$("#listWordOfCatInInPorgress").text(""),$.get("date/1/"+a+"/words.json",function(r){var s=JSON.parse(o),i=JSON.parse(r);for(var d in s){var c=s[d],l=i[d],u="",p=!1;for(var g in noticeJSON){var f=noticeJSON[g],h=langJSON.lang+"\\"+e+"\\"+t+"\\1\\"+(parseInt(d)+1);f.word==h&&(u="<br><strong>Linkword:</strong> "+f.notice,$("#listWordOfCatInInPorgress").append('<p class="text" onclick="tellMeWord(\''+a+"',"+c.id+')">'+n+". "+l.name+"<span>"+c.name+u+"</span></p>"),p=!0),p||g!=noticeJSON.length-1||$("#listWordOfCatInInPorgress").append('<p class="text" onclick="tellMeWord(\''+a+"',"+c.id+')">'+n+". "+l.name+"<span>"+c.name+"</span></p>")}0==noticeJSON.length&&$("#listWordOfCatInInPorgress").append('<p class="text" onclick="tellMeWord(\''+a+"',"+c.id+')">'+n+". "+l.name+"<span>"+c.name+"</span></p>"),n++}})})}function fillTableListWordInCat(e,t){var a=$("#myLang").val(),n=1;$.get("date/"+a+"/"+e+"/"+t+"/words.json",function(e){var t=JSON.parse(e);for(var a in t){var o=t[a];$(".t"+n).html(o.name),n++}})}function fillTableListWordInCatWithNote(e,t){var a=$("#myLang").val(),n=1;for(n=1;n<11;n++){$(".n"+n).html("");for(var o in noticeJSON){var r=noticeJSON[o],s=a+"\\"+e+"\\"+t+"\\1\\"+n;r.word==s&&$(".n"+n).html("("+r.notice+")")}}}function checkConnection(){return!(0==navigator.connection.type||"none"==navigator.connection.type)}function showRating(){var e=parseInt($("#nrDayFiled").text());e%5==0&&e>0&&0==dayJSON.rating&&AppRate.promptForRating()}function setRatingToTrue(){endTodayLesson=!1,dayJSON.rating=!0,datesJSON5=dayJSON,srcSave5=path()+"day.json",saveFile5()}function saveTheme(){endTodayLesson=!1;e=1;if($("body").hasClass("theme3"))e=3;else if($("body").hasClass("theme2"))e=2;else var e=1;dayJSON.theme=e,datesJSON5=dayJSON,srcSave5=path()+"day.json",saveFile5()}function setTextWidth(){$(".text").css("min-width",.85*$(window).width())}function shareFile(){var e={message:"Zapisz postęp",subject:"Mój postęp w SpeakUp",files:[srcToShare],url:null,chooserTitle:"Zapisz postęp"};window.plugins.socialsharing.shareWithOptions(e,function(e){console.log("Share completed? "+e.completed),console.log("Shared to app: "+e.app)},function(e){console.log("Sharing failed with message: "+e)})}function volumeTest(){}function showVolumeInfo(){navigator.notification.confirm("Turn up the volume to hear the sound",okNoSound,"Warning!","OK")}function okNoSound(){return!0}function getAllCatsToShowAllCats(){$.get("date/"+langJSON.lang+"/cat.json",function(e){var t="",a=JSON.parse(e);for(var n in a){subcats=!1;var o=a[n];t+='<div><h1 class="text supercat-all-material" onclick="expand(this);">'+o.name+"</h1>";parseInt(n),parseInt(a.length);$.ajax({url:"date/"+langJSON.lang+"/"+o.id+"/subcat.json",type:"get",dataType:"html",async:!1,success:function(e){var a=JSON.parse(e);t+='<div class="list-of-subcat-all-material">';for(var n in a){var r=a[n],s=o.id+"/"+r.id,i="";dayJSON.skiped.indexOf(s)>=0&&(i="missingCat"),learnedCat.indexOf(s)>=0&&(i="learnedCat"),inProgressCat.indexOf(s)>=0&&(i="inProgressCat"),cl2=1==r.audio?"":"no-audio",t+='<p class="text catsInAllMaterial '+i+" "+cl2+'" onclick="setCatToViewWords(\''+s+"', '"+r.name+'\' )" data-parent="'+o.id+'" data-subcat="'+r.id+'">'+r.name+'<span class="inProgressCatInfo">during learning</span> <span class="missingCatInfo">lesson skipped</span> <span class="learnedCatInfo">learned lesson</span></p>',$("#show-all-cats-cat-list .list").append('<li><p class="cat-name-all-material" data-id="'+r.id+'" data-par="'+o.id+'">'+r.name+"</p></li>")}t+="</div></div>"}})}$("#show-all-cats-cats").append(t)})}function getWordForCatShowList(e){$.get("date/"+langJSON.lang+"/"+e+"/words.json",function(t){$("#show-all-cats-cats-wordlist").text(""),$.get("date/1/"+e+"/words.json",function(a){var n=JSON.parse(t),o=JSON.parse(a);for(var r in n){var s=n[r],i=o[r];$("#show-all-cats-cats-wordlist").append('<p class="text" onclick="tellMeWord(\''+e+"',"+s.id+')">'+i.name+"<span>"+s.name+'</span><img src="img/mic_icon.png" ontouchstart="checkMeWord(\''+i.name+"', this); return false;\"></p>")}})})}function startVoiceToText(){checkConnection()?startRecognize():navigator.notification.confirm("Connect to the Internet to use this function.",onNoInternetConfirm,"No Internet connection!","exit")}function startRecognize(){stopTelling();var e={language:"en-US",matches:2,prompt:6==nbMethod||5==nbMethod||4==nbMethod&&0==nbStep&&9==$("#nav-words-container p.activ").index()?act_trans:act_word,showPopup:!0};window.plugins.speechRecognition.startListening(function(e){if(""!=e[0]){var t=e[0];$(".recText").text(t),$("#l-n-1").hide(),$("#l-n-2").hide(),$("#l-n-3").hide(),$("#l-n-4").hide(),$("#l-n-5").hide(),$("#l-n-6").hide(),$("#l-e-1").hide(),$("#l-e-2").hide(),$("#l-e-3").hide(),$("#l-e-4").hide(),$("#l-e-5").hide(),$("#l-e-6").hide(),$("#l-t-1").hide(),$("#l-t-2").hide(),$("#l-t-3").hide(),$("#l-t-4").hide(),$("#l-t-5").hide(),$("#l-t-6").hide(),$(".recTextWrap").show(),$(".recText").show(),$(".show-hidden-word").next("p").show(),$(".show-hidden-word").hide(),compareRecognizedText(t),$(".support-word-in-speach").hide()}},function(){$(".support-word-in-speach").hide()},e)}function compareRecognizedText(e){var t=$(".learnMethod:visible .text-trans-word").text();e.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")==t.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")?(countOfWrongRecognized=0,$(".learnMethod").addClass("goodRec"),$(".learnMethod").removeClass("badRec"),$(".cloud-again").hide(),$(".cloud-next-task").hide(),setTimeout(function(){isOkWrap()},500)):($(".learnMethod").removeClass("goodRec"),$(".learnMethod").addClass("badRec"),$(".cloud-again").show(),$(".cloud-next-task").show(),$(".remind-img").hide(),1==++countOfWrongRecognized&&tellMe(),2==countOfWrongRecognized&&(countOfWrongRecognized=0,showRecognizedAlert()))}function showRecognizedAlert(){navigator.notification.confirm("It might happen that correct pronunciation can not be recognized. In such cases, you have to skip the task.",showRecognizedAlertCallback,"Speech recognition is not 100% accurate","Try again,Skip the task")}function showRecognizedAlertCallback(e){1==e&&startVoiceToText(),2==e&&isOkWrap()}function renameFile(e,t,a,n){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(o){o.root.getFile(t+e,null,function(r){o.root.getDirectory(t,{create:!0},function(o){parentEntry=new DirectoryEntry(e,t+e),r.moveTo(o,a,function(){n()},renameFail)},renameFail)},renameFail)},renameFail)}function renameSuccess(){}function renameFail(){}function skipRepetition(){$("#start-next-cat").addClass("next-cat-left"),$("#learn-container").hide(),isRepeatCycle=!1,learnetCatToday++;for(var e=!1,t=0;t<10&&!e;t++)-1!=toLearn[t]&&(e=!0,toLearn[t]=-1);$("#learn-container").hide(),learnedWords+=30,setTimeout(function(){updateProgressBar(),packControler()},500)}function showEndNewMaterialsInfo(){navigator.notification.confirm("Koniec nowych materiałów, od teraz już tylko powtórki",showEndNewMaterialsInfoCallback,"Koniec nowych materiałów","OK")}function showEndNewMaterialsInfoCallback(e){return 1}function returnInLearn(){$("#learn-container").addClass("next-cat-left"),setTimeout(function(){$("#learn-container").hide()},500),isRepeatCycle=!1,newCategoryisSet=!1,toLearn=copyOfLearnArray.slice(),inProgressCat=inProgressCatcopyForBackBTN.slice(),toLearnJSON=JSON.parse(JSON.stringify(toLearnJSONcopyForBackBTN)),dayJSON.words=dayJSONwordsCopy,learnedWords=learnedWordsCopy,learnetCatToday=learnetCatTodayCopytBTN,updateProgressBar(),nextPack()}function hideSpeachClouds(){$(".cloud-perfect-all-words").hide(),$(".cloud-you-said-all-words").hide()}function checkMeWord(e,t){checkingWordWrapper=$(t),stopTelling(),$("#savedWordsContainer p").removeClass("good-telling-word"),$("#savedWordsContainer p").removeClass("bad-telling-word"),$("#show-all-cats-cats-wordlist p").removeClass("good-telling-word"),$("#show-all-cats-cats-wordlist p").removeClass("bad-telling-word"),startRecognizeInAllWords(e)}function startRecognizeInAllWords(e){var t={language:"en-US",matches:2,prompt:e,showPopup:!0};window.plugins.speechRecognition.startListening(function(t){""!=t[0]&&compareRecognizedTextInAllWords(t[0],e)},function(){},t)}function compareRecognizedTextInAllWords(e,t){e.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")==t.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")?checkingWordWrapper.closest(".text").addClass("good-telling-word"):checkingWordWrapper.closest(".text").addClass("bad-telling-word")}function changeLiked(e){isLikedWord(e)?(removeFromlikedJSON(e),saveLikedWords()):(addToLikedJSON(e),saveLikedWords())}function removeFromlikedJSON(e){window.plugins.toast.showWithOptions({message:"Fraza usunięta z ulubionych",duration:"short",position:"bottom"});for(var t in likedJSON)if(likedJSON[t]==e){likedJSON.splice(t,1);break}}function addToLikedJSON(e){window.plugins.toast.showWithOptions({message:"Fraza dodana do ulubionych",duration:"short",position:"bottom"}),likedJSON.push(e)}function setActuLikedIcon(){isLikedWord(getPathToActuWord())?$(".star-liked").attr("src","img/star_check.png"):$(".star-liked").attr("src","img/star.png")}function isLikedWord(e){if(0==likedJSON.length)return!1;for(var t in likedJSON){if(likedJSON[t]==e)return!0;if(t==likedJSON.length-1)return!1}}function getPathToActuWord(){return $("#myParentCat").val()+"\\"+$("#myCat").val()+"\\"+$("#idWord").val()}function readLikedWords(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,onFSSuccessLiked,onFSError)}function onFSSuccessLiked(e){e.root.getFile(path()+"liked.json",{create:!1,exclusive:!1},gotFileEntryLiked,onFSError)}function gotFileEntryLiked(e){e.file(gotFileLiked,onFSError)}function gotFileLiked(e){readAsTextLiked(e)}function readAsTextLiked(e){var t=new FileReader;t.onloadend=function(e){afterReadLikedWords(e.target.result)},t.readAsText(e)}function afterReadLikedWords(e){likedJSON=JSON.parse(e)}function saveLikedWords(){window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotFSLiked,failN)}function gotFSLiked(e){e.root.getFile(path()+"liked.json",{create:!0},gotFileEntryLikedW,failN)}function gotFileEntryLikedW(e){e.createWriter(gotFileWriterLiked,failN)}function gotFileWriterLiked(e){e.onwriteend=function(e){afterSaveLikedWords()},e.write(JSON.stringify(likedJSON)),e.abort()}function afterSaveLikedWords(){}function showSavedWords(){$("#savedWordsContainer").text("");for(var e in likedJSON)showSavedWord(likedJSON[e].split("\\"))}function showSavedWord(e){$.get("date/"+langJSON.lang+"/"+e[0]+"/"+e[1]+"/words.json",function(t){$.get("date/1/"+e[0]+"/"+e[1]+"/words.json",function(a){var n=JSON.parse(t),o=JSON.parse(a),r=n[e[2]-1],s=o[e[2]-1];$("#savedWordsContainer").append('<p class="text" onclick="tellMeWord(\''+e[0]+"/"+e[1]+"',"+r.id+')">'+s.name+"<span>"+r.name+'</span><img src="img/mic_icon.png" ontouchstart="checkMeWord(\''+s.name+"', this); return false;\"></p>")})})}function setPopupAboutNoAudioLesson(){0==suggestedCatHasAudio&&navigator.notification.confirm("This lesson is without audio recordings. Free vesion comes with only 90 audio lessons. If you would like to get audio to all 180 lessons upgrade to SpeakApp Pro.",setPopupAboutNoAudioLessonBTNCallBack,"Lesson without audio recordings!","Learn anyway,Upgrade,Skip lesson")}function setPopupAboutNoAudioLessonBTNCallBack(e){if(1==e)return!0;2==e&&goToPremiumVersion(),3==e&&getNextSugCat()}var app={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){my_media=new Media("/android_asset/www/date/1.m4a",function(){},function(e){console.log("M: "+e.message+" - "+e.code)}),checkConnection()?(startApp(),setTextWidth()):navigator.notification.confirm("Connect to the Internet to use the application. You can also download the premium version that works offline",onNoInternetConfirm,"No Internet connection!","exit"),document.addEventListener("resume",hideBars,!1),$(window).width()>600?StatusBar.hide():AndroidFullScreen.immersiveMode(emptyFunctionS,emptyFunctionS),document.addEventListener("onAdDismiss",function(e){removeAllProgress(),removeAllProgress2(),setTimeout(function(){loadProgressBarToFull(),loadProgressBarToFull2()},100)}),document.addEventListener("onAdLeaveApp",function(e){}),document.addEventListener("onAdPresent",function(e){setTimeout(function(){removeAllProgress(),removeAllProgress2()},50),prepareAd()}),AppRate.preferences={displayAppName:"SpeakUp",storeAppURL:{android:"market://details?id=com.AwesomeIndustries.DriftZone2"},useLanguage:"en",callbacks:{onButtonClicked:function(e){1==e&&setRatingToTrue()}}},document.addEventListener("backbutton",function(e){e.preventDefault()},!1),setTextWidth(),volumeTest()},receivedEvent:function(e){var t=document.getElementById(e),a=t.querySelector(".listening"),n=t.querySelector(".received");a.setAttribute("style","display:none;"),n.setAttribute("style","display:block;"),console.log("Received Event: "+e)}},mainPath,srcSaveTmp=!1,srcSaveOld=!1,srcSaveDayTmp=!1,endTodayLesson=!1,wordsInOneCat=10,minCat=7,countOfCycle=2,countCatInFirstBigCat=10,firstCycle=!1,secondCycle=!1,thirdCycle=!1,srcSave=!1,srcSave5=!1,srcLang=!1,datesJSON=!1,datesJSON5=!1,dayJSONwordsCopy=0,learnedWordsCopy=0,langJSON=JSON.parse('{"lang":-1}'),dayJSON=!1,toLearnJSON=[],dayJSONwordsCopy=dayJSON.words,toLearnJSONcopyForBackBTN=JSON.parse(JSON.stringify(toLearnJSON)),resLang=!1,res=!1,srcFile=!1,res2=!1,srcFile2=!1,res3=!1,srcFile3=!1,noticeJSON=[],likedJSON=[],isFirstCycle=!0,startLearn=!1,toLearn=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],countWord=0,countCatsToLearn=0,countCatsToLearnToday=1,countWordsToLearn=wordsInOneCat+2*wordsInOneCat,learnedWords=0,learnedWordsInCat=0,countWordsToLearnInThisCycle=0,suggestedCatPath="",suggestedCatName="",learnedCat=[],inProgressCat=[],missingCat=[],gameIsBegin=!1,allCats=[],allUsedCats=[],allEndedCats=[],todayEndedCat="",rootURL="",subcats=!1,parent=!1,firstGenerationCat=!0,inProgressCatcopyForBackBTN=[],idWord=!1,nameWord=!1,words,trans,blockClear=!1,my_media,act_word="",act_trans="",act_text="",round=1,nbMethod=2,nbStep=0,canNextStep=1,noLerntStep=0,ileSnd=0,ileThd=0,noPlus=0,prepareToThird=1,isPreparetoFirst=!1,readyToSaveNotice=!1,whereGo=0,noFlipIfWrong=!1,lastWordSecondRound=!0,repeatSec=1,repeatThd=1,s_nowe=0,t_nowe=0,id_powt=-1,s_bylo=0,t_bylo=0,stepow=0,ile_s=0,ile_t=0,last_r_s=-1,theSameMethod=!1,antyNaparzanka=!1,fst_id=0,snd_id=0,thd_id=0,temid=0,fin_id=0,repeatFstRound=!0,continueLearning=!1,nameCat,newCategoryisSet=!1,learnetCatToday=1,learnetCatTodayCopytBTN=1,isRepeatCycle=!1,copyOfLearnArray=[],ix=1,waintingLearned=0,stepTut=1,firstGenerationCatAllCats=!0,ix2=1,userChoiceCat=!1,sugGetIsSetter=!1,scdCycleInSearchSub=!1,suggestedCatHasAudio=!0,progressJSON=[],srcSaveProgress="myProgress.fiszki",srcLoadProgress="",isInList=[],srcToShare="",countOfWrongRecognized=0,checkingWordWrapper;